<?xml version="1.0" encoding="UTF-8"?><_ROOT_ EMVERSION="13.2" ORIENTATION="HORIZONTAL">
<Workspace>
<NODES>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="Boost" ID="Boost" X="794" Y="285" DESCRIPTION="Gradient Boosting" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="Boost">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.EMMODL.BOOST.SOURCE" ToolType="MODEL" Iterations="50" CategoricalBins="30" IntervalBins="100" TrainProportion="60" Seed="12345" Shrinkage="0.1" LeafFraction="0.01" SplitSize="." MinCatSize="5" MaxBranch="2" MaxDepth="2" NSurrs="0" Missing="USEINSEARCH" Huber="NO" ReUseVar="1" AssessMeasure="PROFIT" NodeSize="20000" Exhaustive="5000" VarSelection="Y" Performance="DISK" SubSeries="BEST" IterationNum="1" ObsImportance="N" NumSingleImp="5" CreateHStat="N" ForceRun="N" RunAction="Train" Component="Boost" Precision="0" Measure="PROFIT" NumPairImp="0" DataNeeded="Y">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes>
<DELTA Variable="DEBTINC" AttributeName="REPORT" AttributeValue="Y"/>
</EmVariableAttributes>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMUTIL.CONTROLPOINT.CLASS" COMPONENT="ControlPoint" ID="CNTRL" X="1581" Y="439" DESCRIPTION="Control Point (2)" DIAGRAMID="_ROOT_" PARENTID="">
<PROPERTIES/>
</NODE>
<NODE CLASS="SASHELP.EMUTIL.CONTROLPOINT.CLASS" COMPONENT="ControlPoint" ID="CNTRL2" X="1576" Y="132" DESCRIPTION="Control Point- Stacked Models" DIAGRAMID="_ROOT_" PARENTID="">
<PROPERTIES/>
</NODE>
<NODE CLASS="SASHELP.EMUTIL.CONTROLPOINT.CLASS" COMPONENT="ControlPoint" ID="CNTRL3" X="340" Y="150" DESCRIPTION="Control Point (11)" DIAGRAMID="_ROOT_" PARENTID="">
<PROPERTIES/>
</NODE>
<NODE CLASS="SASHELP.EMUTIL.CONTROLPOINT.CLASS" COMPONENT="ControlPoint" ID="CNTRL4" X="635" Y="284" DESCRIPTION="Control Point" DIAGRAMID="_ROOT_" PARENTID="">
<PROPERTIES/>
</NODE>
<NODE CLASS="SASHELP.EMUTIL.CONTROLPOINT.CLASS" COMPONENT="ControlPoint" ID="CNTRL5" X="484" Y="285" DESCRIPTION="Control Point" DIAGRAMID="_ROOT_" PARENTID="">
<PROPERTIES/>
</NODE>
<NODE CLASS="SASHELP.EMUTIL.CONTROLPOINT.CLASS" COMPONENT="ControlPoint" ID="CNTRL6" X="939" Y="285" DESCRIPTION="Control Point" DIAGRAMID="_ROOT_" PARENTID="">
<PROPERTIES/>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EMCODETOOL.CLASS" COMPONENT="SASCode" ID="EMCODE" X="1247" Y="285" DESCRIPTION="Simple Average Ensemble" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="EMCODE">
<PROPERTIES UsePriors="Y" ToolType="MODEL" DataNeeded="N" PublishCode="PUBLISH" ScoreCodeFormat="DATASTEP" MetaAdvisor="BASIC" ForceRun="N" RunAction="Train" Component="SASCode" NeedRun="N">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes>
<DELTA Variable="DEBTINC" AttributeName="REPORT" AttributeValue="Y"/>
</EmVariableAttributes>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data><![CDATA[
 
/*ULTIMATE*/
 
%macro _simpleaverage(_partition,_outputdata);
 
/*Retrieve the Node Id for the Model Comparison node */
data _NULL_;
set &amp;EM_LIB..em_dgraph;
where TO=&quot;&amp;EM_NODEID&quot;;
	call symput('_NODEID',strip(FROM));
run;
 
/*Retrieve the event and non-event of the target*/
data _NULL_;
set &amp;EM_DEC_DECMETA;
	if _type_=&quot;TARGET&quot; then do;
		call symput('_TARGET',strip(VARIABLE));
		call symput('_EVENT',strip(EVENT));
	end;
	if _type_=&quot;PREDICTED&quot; then do;
		if level=symget('_EVENT') then call symput('_TARGETEVENT',strip(tranwrd(VARIABLE,&quot;P_&quot;,&quot;&quot;)));
			else call symput('_TARGETNONEVENT',strip(tranwrd(VARIABLE,&quot;P_&quot;,&quot;&quot;)));
	end;
run;
 
/* order the models according to the misclassification rate of the validation set */
proc sort data=&amp;EM_LIB..&amp;_nodeid._emreportfit out=_validation(keep=model fitstat train validate test);
where fitstat=&quot;_MISC_&quot;;
by test;
run;
 
data _null_;
set _validation end=eof;
    call symput('_model'!!strip(put(_N_, BEST.))  , strip(model));
    call symput('_fitstat'!!strip(put(_N_, BEST.)), strip(validate));
    if eof then call symput('_num_model', strip(put(_N_, BEST.)));
run;
 
/* transpose the posterior probabilities of the models and caculate the simple average */
data &amp;_outputdata;
length I_&amp;_TARGET $8;
merge
 %do i=1 %to &amp;_num_model;
                &amp;EM_LIB..&amp;&amp;_model&amp;i.._&amp;_partition(keep=_dataobs_ P_&amp;_TARGETEVENT &amp;_TARGET
																		rename=(P_&amp;_TARGETEVENT=_p_&amp;&amp;_model&amp;i))
 %end;   end=eof ;
label
 %do i=1 %to &amp;_num_model;
                _p_&amp;&amp;_model&amp;i=&quot;_p_&amp;&amp;_model&amp;i&quot;
 %end;           ;
by _dataobs_;
P_&amp;_TARGETEVENT=mean(of _p_:);
P_&amp;_TARGETNONEVENT=1-P_&amp;_TARGETEVENT;
 
R_&amp;_TARGETEVENT=1-P_&amp;_TARGETEVENT;
R_&amp;_TARGETNONEVENT=1-P_&amp;_TARGETNONEVENT;
 
F_&amp;_TARGET=upcase(strip(&amp;_TARGET));
if (P_&amp;_TARGETEVENT gt 0.5) then I_&amp;_TARGET=upcase(&quot;&amp;_EVENT&quot;);
	else I_&amp;_TARGET=upcase(%quote(strip(tranwrd(&quot;&amp;_TARGETNONEVENT&quot;,&quot;&amp;_TARGET&quot;,&quot;&quot;))));
run;
 
%mend;
 
/*create a simple average ensemble for all partitions: train, validate, and test*/
%_simpleaverage(_partition=train   ,_outputdata=&amp;EM_EXPORT_TRAIN);
%_simpleaverage(_partition=validate,_outputdata=&amp;EM_EXPORT_VALIDATE);
%_simpleaverage(_partition=test    ,_outputdata=&amp;EM_EXPORT_TEST);
 
 
 
 
 
 
 
]]>
</Data>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EMCODETOOL.CLASS" COMPONENT="SASCode" ID="EMCODE2" X="1580" Y="370" DESCRIPTION="Hill Climbing Ensemble" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="EMCODE">
<PROPERTIES UsePriors="Y" ToolType="MODEL" DataNeeded="N" PublishCode="PUBLISH" ScoreCodeFormat="DATASTEP" MetaAdvisor="BASIC" ForceRun="N" RunAction="Train" Component="SASCode" NeedRun="N">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data><![CDATA[
options mprint;
 
/*Retrieve the event and non-event of the target*/
data _NULL_;
set &amp;EM_DEC_DECMETA;
	if _type_=&quot;TARGET&quot; then do;
		call symput('_TARGET',strip(VARIABLE));
		call symput('_EVENT',strip(EVENT));
	end;
	if _type_=&quot;PREDICTED&quot; then do;
		if level=symget('_EVENT') then call symput('_TARGETEVENT',strip(tranwrd(VARIABLE,&quot;P_&quot;,&quot;&quot;)));
			else call symput('_TARGETNONEVENT',strip(tranwrd(VARIABLE,&quot;P_&quot;,&quot;&quot;)));
	end;
run;
 
/*Retrieve the Node Ids of the Model Comparison and the Simple Average node */
data _NULL_;
set &amp;EM_LIB..em_dgraph;
if TO=&quot;&amp;EM_NODEID&quot; then call symput('_SAVGID',strip(FROM));
run;
data _NULL_;
set &amp;EM_LIB..em_dgraph;
if TO=&quot;&amp;_SAVGID&quot; then call symput('_NODEID',strip(FROM));
run;
 
/*Create arrays for models*/
proc sort data=&amp;EM_LIB..&amp;_nodeid._emreportfit out=_validation(keep=model fitstat train validate test);
where fitstat=&quot;_MISC_&quot;;
by validate;
run;
 
data _null_;
set _validation end=eof;
    call symput('_model'!!strip(put(_N_, BEST.)), strip(model));
	if eof then call symput('_num_model', strip(put(_N_, BEST.)));
run;
 
data modelorder(keep=model misc_test);
model=1;
set _validation(keep=test rename=(test=misc_test));
if _n_=1;
run;
 
/*calculate probability of event as a simple average*/
%macro _calculate_SA_prob_event(_partition,_whereclause=&quot;&quot;,_outputtable=initialtable,_additionalcalc=);
	data _null_;
	set modelorder&amp;_whereclause end=eof;
	call symput('_nsequence'!!strip(put(_N_, BEST.)), strip(model));
	if eof then call symput('_niterations', strip(put(_N_, BEST.)));
	run;
 
	data &amp;_outputtable;
	length I_&amp;_TARGET $8;
		merge
	%do j=1 %to &amp;_niterations;
		&amp;EM_LIB..&amp;_SAVGID._&amp;_partition(keep=_dataobs_ &amp;_TARGET _p_&amp;&amp;&amp;&amp;_model&amp;&amp;_nsequence&amp;j)
	%end;	end=eof;
	by _dataobs_;
 
	pacum=mean(of _p:);
 
%put additionalcacl is &amp;_additionalcalc;
	%if &quot;&amp;_additionalcalc&quot;=&quot;Y&quot; %then %do;
	%_calculate_p_r_f_i(_TARGETEVENT=&amp;_TARGETEVENT,_TARGETNONEVENT=&amp;_TARGETNONEVENT,_TARGET=&amp;_TARGET,_EVENT=&amp;_EVENT);
	%end;
	%else %do;
	keep _dataobs_ _pacum;
	rename pacum=_pacum;
	%end;
 
	run;
 
%mend;
 
/*calculate probabilities residuals from into variables*/
%macro _calculate_p_r_f_i(_TARGETEVENT,_TARGETNONEVENT,_TARGET,_EVENT);
	P_&amp;_TARGETEVENT=mean(of _p:);
	P_&amp;_TARGETNONEVENT=1-P_&amp;_TARGETEVENT;
	
	R_&amp;_TARGETEVENT=1-P_&amp;_TARGETEVENT;
	R_&amp;_TARGETNONEVENT=1-P_&amp;_TARGETNONEVENT;
	
	F_&amp;_TARGET=upcase(strip(&amp;_TARGET));
 
	if (P_&amp;_TARGETEVENT gt 0.5) then I_&amp;_TARGET=upcase(&quot;&amp;_EVENT&quot;);
		else I_&amp;_TARGET=upcase(%quote(strip(tranwrd(&quot;&amp;_TARGETNONEVENT&quot;,&quot;&amp;_TARGET&quot;,&quot;&quot;))));
%mend;
 
 
%macro hillclimbing(_partition,_modelorder);
 
	%_calculate_SA_prob_event(_partition=&amp;_partition);
 
%do i=1 %to &amp;_num_model;
	data _temp&amp;i;
	length I_&amp;_TARGET $8;
		merge initialtable
              &amp;EM_LIB..&amp;&amp;_model&amp;i.._&amp;_partition(keep=_dataobs_ P_&amp;_TARGETEVENT &amp;_TARGET
																		rename=(P_&amp;_TARGETEVENT=_p_&amp;&amp;_model&amp;i))
	end=eof;
	by _dataobs_;
 
	%_calculate_p_r_f_i(_TARGETEVENT=&amp;_TARGETEVENT,_TARGETNONEVENT=&amp;_TARGETNONEVENT,_TARGET=&amp;_TARGET,_EVENT=&amp;_EVENT);
 
	if F_&amp;_TARGET eq I_&amp;_TARGET then corr_class=1;
			else corr_class=0;
		obscount+1;
		corr_classcount+corr_class;
		misc=(obscount-corr_classcount)/obscount;
		if eof then call symput('_ensmisc'!!strip(put(&amp;i, BEST.)), strip(misc));
 
	run;
 
	data _ens&amp;i;
	label ensid=&quot;ensemble id&quot;;
	set _temp&amp;i end=eof;
	if eof;
		keep misc ensid;
		ensid=&amp;i;
	run;
%end;
 
data outtable;
set %do k=1 %to &amp;_num_model; _ens&amp;k %end; ;
rename misc=misc_&amp;_partition;
run;
 
proc sort data=outtable;
by misc_&amp;_partition;
run;
 
data toappend;
set outtable;
by misc_&amp;_partition;
if _n_=1;
run;
 
data &amp;_modelorder;
set &amp;_modelorder toappend(rename=(ensid=model));
run;
 
%mend;
 
%macro iteratehc;
	%do _i=1 %to 30;
	%hillclimbing(_partition=test,_modelorder=modelorder)
	%end;
%mend;
 
%iteratehc
 
data modelorder;
set modelorder;
step=_n_;
run;
 
proc sort data=modelorder out=stop_point;
by misc_test step;
run;
 
data _null_;
set stop_point;
if _n_=1;
call symput('_stoppoint', strip(step));
run;
 
%put stppoint is &amp;_stoppoint;
 
%_calculate_SA_prob_event(_partition=train	,_whereclause=(where=(step le &amp;_stoppoint)),_outputtable=&amp;EM_EXPORT_TRAIN,_additionalcalc=Y);
%_calculate_SA_prob_event(_partition=validate,_whereclause=(where=(step le &amp;_stoppoint)),_outputtable=&amp;EM_EXPORT_VALIDATE,_additionalcalc=Y);
%_calculate_SA_prob_event(_partition=test		,_whereclause=(where=(step le &amp;_stoppoint)),_outputtable=&amp;EM_EXPORT_TEST,_additionalcalc=Y);
 
 
 
 
]]>
</Data>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EMCODETOOL.CLASS" COMPONENT="SASCode" ID="EMCODE3" X="1580" Y="313" DESCRIPTION="TopT Ensemble" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="EMCODE">
<PROPERTIES UsePriors="Y" ToolType="MODEL" DataNeeded="N" PublishCode="PUBLISH" ScoreCodeFormat="DATASTEP" MetaAdvisor="BASIC" ForceRun="N" RunAction="Train" Component="SASCode" NeedRun="N">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data><![CDATA[
options mprint nosymbolgen nomlogic;
 
/*Retrieve the event and non-event of the target*/
data _NULL_;
set &amp;EM_DEC_DECMETA;
	if _type_=&quot;TARGET&quot; then do;
		call symput('_TARGET',strip(VARIABLE));
		call symput('_EVENT',strip(EVENT));
	end;
	if _type_=&quot;PREDICTED&quot; then do;
		if level=symget('_EVENT') then call symput('_TARGETEVENT',strip(tranwrd(VARIABLE,&quot;P_&quot;,&quot;&quot;)));
			else call symput('_TARGETNONEVENT',strip(tranwrd(VARIABLE,&quot;P_&quot;,&quot;&quot;)));
	end;
run;
 
/*Retrieve the Node Ids of the Model Comparison and the Simple Average node */
data _NULL_;
set &amp;EM_LIB..em_dgraph;
if TO=&quot;&amp;EM_NODEID&quot; then call symput('_SAVGID',strip(FROM));
run;
data _NULL_;
set &amp;EM_LIB..em_dgraph;
if TO=&quot;&amp;_SAVGID&quot; then call symput('_NODEID',strip(FROM));
run;
 
/*Create arrays for models*/
proc sort data=&amp;EM_LIB..&amp;_nodeid._emreportfit out=_validation(keep=model fitstat train validate test);
where fitstat=&quot;_MISC_&quot;;
by validate;
run;
 
data _null_;
set _validation end=eof;
    call symput('_model'!!strip(put(_N_, BEST.)), strip(model));
	if eof then call symput('_num_model', strip(put(_N_, BEST.)));
run;
 
%macro toptensemble(_partition,_outtable);
 
%do j=1 %to &amp;_num_model;
/*	data _temp&amp;j; */
	data _temp;
	length I_&amp;_TARGET $8;
	merge
	%do i=1 %to &amp;j;
		&amp;EM_LIB..&amp;_SAVGID._&amp;_partition(keep=_dataobs_ &amp;_TARGET _p_&amp;&amp;_model&amp;i)
	%end;	end=eof;
	by _dataobs_;
 
	P_&amp;_TARGETEVENT=mean(of _p:);
	P_&amp;_TARGETNONEVENT=1-P_&amp;_TARGETEVENT;
	
	R_&amp;_TARGETEVENT=1-P_&amp;_TARGETEVENT;
	R_&amp;_TARGETNONEVENT=1-P_&amp;_TARGETNONEVENT;
	
	F_&amp;_TARGET=upcase(strip(&amp;_TARGET));
 
	if (P_&amp;_TARGETEVENT gt 0.5) then I_&amp;_TARGET=upcase(&quot;&amp;_EVENT&quot;);
		else I_&amp;_TARGET=upcase(%quote(strip(tranwrd(&quot;&amp;_TARGETNONEVENT&quot;,&quot;&amp;_TARGET&quot;,&quot;&quot;))));
 
	
	if F_&amp;_TARGET eq I_&amp;_TARGET then corr_class=1;
			else corr_class=0;
		obscount+1;
		corr_classcount+corr_class;
		misc=(obscount-corr_classcount)/obscount;
		if eof then call symput('_ensmisc'!!strip(put(&amp;i, BEST.)), strip(misc));
	run;
 
	data _ens&amp;j;
	label ensid=&quot;ensemble id&quot;;
	set _temp end=eof;
	if eof;
		keep misc ensid;
		ensid=&amp;j;
	run;
%end;
 
data &amp;_outtable;
set %do k=1 %to &amp;_num_model; _ens&amp;k %end; ;
rename misc=misc_&amp;_partition;
run;
 
%mend;
 
%toptensemble(_partition=test,    _outtable=modelorder)
 
data modelorder;
set modelorder;
step=_n_;
run;
 
proc sort data=modelorder out=stop_point;
by misc_test step;
run;
 
data _null_;
set stop_point;
if _n_=1;
call symput('_stoppoint', strip(step));
run;
 
%macro calculateSAverage(_partition,_outtable);
data &amp;_outtable;
	length I_&amp;_TARGET $8;
	merge
	%do i=1 %to &amp;_stoppoint;
		&amp;EM_LIB..&amp;_SAVGID._&amp;_partition(keep=_dataobs_ &amp;_TARGET _p_&amp;&amp;_model&amp;i)
	%end;	end=eof;
	by _dataobs_;
 
	P_&amp;_TARGETEVENT=mean(of _p:);
	P_&amp;_TARGETNONEVENT=1-P_&amp;_TARGETEVENT;
	
	R_&amp;_TARGETEVENT=1-P_&amp;_TARGETEVENT;
	R_&amp;_TARGETNONEVENT=1-P_&amp;_TARGETNONEVENT;
	
	F_&amp;_TARGET=upcase(strip(&amp;_TARGET));
 
	if (P_&amp;_TARGETEVENT gt 0.5) then I_&amp;_TARGET=upcase(&quot;&amp;_EVENT&quot;);
		else I_&amp;_TARGET=upcase(%quote(strip(tranwrd(&quot;&amp;_TARGETNONEVENT&quot;,&quot;&amp;_TARGET&quot;,&quot;&quot;))));
 
run;
%mend;
 
%calculateSAverage(_partition=train		,_outtable=&amp;EM_EXPORT_TRAIN)
%calculateSAverage(_partition=validate	,_outtable=&amp;EM_EXPORT_VALIDATE)
%calculateSAverage(_partition=test		,_outtable=&amp;EM_EXPORT_TEST)
 
 
 
 
]]>
</Data>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EMCODETOOL.CLASS" COMPONENT="SASCode" ID="EMCODE4" X="2060" Y="368" DESCRIPTION="Additional Assessment" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="EMCODE">
<PROPERTIES UsePriors="Y" ToolType="MODEL" DataNeeded="N" PublishCode="PUBLISH" ScoreCodeFormat="DATASTEP" MetaAdvisor="BASIC" ForceRun="N" RunAction="Train" Component="SASCode">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data><![CDATA[
/*Retrieve the Node Id of the Model Comparison node */
data _NULL_;
	set &amp;EM_LIB..em_dgraph;
	if TO=&quot;&amp;EM_NODEID&quot; then call symput('_NODEID',strip(FROM));
run;
 
/*Retrieve the event and non-event of the target*/
data _NULL_;
	set &amp;EM_DEC_DECMETA;
	if _type_=&quot;TARGET&quot; then do;
		call symput('_TARGET',strip(VARIABLE));
		call symput('_EVENT',strip(EVENT));
	end;
	if _type_=&quot;PREDICTED&quot; then do;
		if level=symget('_EVENT') then call symput('_TARGETEVENT',strip(tranwrd(VARIABLE,&quot;P_&quot;,&quot;&quot;)));
	end;
run;
 
%let _workspaceid=&amp;EM_LIB;
 
%macro CORRECT_EVT_FREQ_CALC;
	proc sort data=&amp;_workspaceid..&amp;_nodeid._emreportfit out=_v(keep=model fitstat train validate test);
		where fitstat=&quot;_MISC_&quot;;
		by test;
	run;
 
	data _null_;
		set _v end=eof;
		call symput('_model'!!strip(put(_N_, BEST.)), strip(model));
		call symput('_fitstat'!!strip(put(_N_, BEST.)), strip(test));
		if eof then call symput('_num_model', strip(put(_N_, BEST.)));
	run;
 
	%do i=1 %to &amp;_num_model;
		data _temp_test_&amp;&amp;_model&amp;i.;
			set &amp;_workspaceid..&amp;&amp;_model&amp;i.._test(keep=_dataobs_ &amp;_target F_&amp;_TARGET I_&amp;_TARGET);
			if F_&amp;_TARGET eq I_&amp;_TARGET then corr_class=1;
			else corr_class=0; obscount+1; corr_classcount+corr_class;
			misc=(obscount-corr_classcount)/obscount;
		run;
 
		proc tabulate data=_temp_test_&amp;&amp;_model&amp;i. out=_temp_test_N_&amp;&amp;_model&amp;i.;
			class corr_class &amp;_TARGET;
			table &amp;_TARGET,corr_class;
		run;
 
		proc sql;
			create table classification_test_&amp;&amp;_model&amp;i.
			/* need to use PUT function here when target is numeric, otherwise use UPCASE */
			as select put(&amp;_TARGET,1.) as from,
			(N/sum(N)) as percent,
			&quot;&amp;&amp;_model&amp;i.&quot; length=10 as Model,
			case
				when (corr_class=1) then 'Correct'
				when (corr_class=0) then 'Incorrect'
			end as correcttext from _temp_test_N_&amp;&amp;_model&amp;i.;
		quit;
	%end;
 
	data _classification_test_all_models;
		set
		%do i=1 %to &amp;_num_model;
			classification_test_&amp;&amp;_model&amp;i.
		%end; ;
		label datarole='Data Role';
		label percent='Total Percentage';
		label from='Target';
		datarole=&quot;TEST&quot;;
		*ModelDescription='Ensemble';
		percent=percent*100;
	run;
%mend;
 
%CORRECT_EVT_FREQ_CALC;
 
proc sql;
	create table lookupmodel
	as select distinct model, modeldescription from &amp;EM_LIB..&amp;_Nodeid._emclassification;
quit;
 
proc sort data=_classification_test_all_models;
	by model;
run;
 
data _classification_test_all_models;
	merge _classification_test_all_models lookupmodel;
	by model;
run;
 
data emclassification;
	set &amp;EM_LIB..&amp;_Nodeid._emclassification(keep=from percent modeldescription correcttext datarole) _classification_test_all_models(drop=model);
run;
 
%em_register(key=classification, type=DATA);
 
proc sort data=emclassification out=&amp;em_user_classification;
	by modeldescription;
run;
 
/*Generate Classification Chart*/
%em_report(key=classification, viewtype=lattice, latticetype=bar, latticex=ModelDescription, latticey=datarole, x=from, group=correctText, freq=percent, description=%nrbquote(Classification Chart), autoDisplay=Y);
 
/*Fit Stat Plots*/
%em_register(key=fitstat, type=DATA);
 
data correct_pred_evt_percent;
	drop percent;
	set &amp;em_user_classification(keep=modeldescription percent datarole from correctText);
	where from=&quot;&amp;_EVENT&quot; and correctText=&quot;Correct&quot;; correct_pred_evt_percent=percent/100;
run;
 
data CEP_TRAIN CEP_VALIDATE CEP_TEST;
	drop datarole;
	set correct_pred_evt_percent;
	if datarole=&quot;TRAIN&quot; then output CEP_TRAIN;
	else if datarole=&quot;VALIDATE&quot; then output CEP_VALIDATE;
	else output CEP_TEST;
run;
 
data CEP;
	drop from correcttext;
	merge CEP_TRAIN(rename=(correct_pred_evt_percent=_CEP_)) CEP_VALIDATE(rename=(correct_pred_evt_percent=_VCEP_)) CEP_TEST(rename=(correct_pred_evt_percent=_TCEP_));
	by modeldescription;
run;
 
data fitstat;
	set &amp;EM_LIB..&amp;_Nodeid._emoutfit(keep=modeldescription _ASE_ _AUR_ _MISC_ _VASE_ _VAUR_ _VMISC_ _TASE_ _TAUR_ _TMISC_);
run;
 
proc sort data=fitstat out=fitstat;
	by modeldescription;
run;
 
data &amp;em_user_fitstat;
	label _CEP_=&quot;TRAIN: Correctly Predicted Event Level Percentage&quot;;
	label _VCEP_=&quot;VALIDATE: Correctly Predicted Event Level Percentage&quot;;
	label _TCEP_=&quot;TEST: Correctly Predicted Event Level Percentage&quot;;
	merge CEP fitstat;
	by modeldescription;
run;
 
%em_report( key=fitstat, viewtype=Scatter, x=_ASE_, y=_AUR_, block=%bquote(Training Fit Statistics Scatter Plot), description=%bquote(Training Fit Statistics Scatter Plot), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_ASE_, y=_MISC_, block=%bquote(Training Fit Statistics Scatter Plot), description=%bquote(Training Fit Statistics Scatter Plot), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_AUR_, y=_MISC_, block=%bquote(Training Fit Statistics Scatter Plot), description=%bquote(Training Fit Statistics Scatter Plot), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_CEP_, y=_MISC_, block=%bquote(Training Fit Statistics Scatter Plot), description=%bquote(Training Fit Statistics Scatter Plot), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_VASE_, y=_VAUR_, block=%bquote(Validation Fit Statistics Scatter Plot), description=%bquote(Validation Fit Statistics Scatter Plot), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_VASE_, y=_VMISC_, block=%bquote(Validation Fit Statistics Scatter Plot), description=%bquote(Validation Fit Statistics Scatter Plot), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_VAUR_, y=_VMISC_, block=%bquote(Validation Fit Statistics Scatter Plot), description=%bquote(Validation Fit Statistics Scatter Plot), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_VCEP_, y=_MISC_, block=%bquote(Validation Fit Statistics Scatter Plot), description=%bquote(Validate Fit Statistics Scatter Plot), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_TASE_, y=_TAUR_, block=%bquote(Test Fit Statistics Scatter Plot), description=%bquote(Test ASE by Test AUC), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_TASE_, y=_TMISC_, block=%bquote(Test Fit Statistics Scatter Plot), description=%bquote(Test ASE y Test Misc), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_TAUR_, y=_TMISC_, block=%bquote(Test Fit Statistics Scatter Plot), description=%bquote(Test AUC by Test Misc), group=modeldescription, autodisplay=Y);
%em_report( key=fitstat, viewtype=Scatter, x=_TCEP_, y=_MISC_, block=%bquote(Test Fit Statistics Scatter Plot), description=%bquote(Test CEP by Test Misc), group=modeldescription, autodisplay=Y);
 
]]>
</Data>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPDMForest" ID="HPDMForest" X="793" Y="444" DESCRIPTION="HP Forest" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPDMForest">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPDMForest.SOURCE" ToolType="MODEL" ALPHA="0.05" CATBINS="30" EXHAUSTIVE="5000" LEAFSIZEMETHOD="DEFAULT" LEAFFRACTION="0.00001" LEAFSIZE="1" MAXDEPTH="50" MAXTREES="100" MINCATSIZE="5" SEED="12345" SPLITSIZE="." NUMOBSMETHOD="PERCENTAGE" TRAINFRACTION="0.6" TRAINN="." VARS_TO_TRY="." MISSING="USEINSEARCH" MINUSEINSEARCH="1" VARSELECT="Y" VIMETHOD="LOSSREDUCTION" RBATOPNUM="25" RBACUT="0.01" ForceRun="N" RunAction="Train" Component="HPDMForest">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes>
<DELTA Variable="DEBTINC" AttributeName="REPORT" AttributeValue="Y"/>
</EmVariableAttributes>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPDMForest" ID="HPDMForest2" X="1732" Y="243" DESCRIPTION="Stacked HP Forest" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPDMForest">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPDMForest.SOURCE" ToolType="MODEL" ALPHA="0.05" CATBINS="30" EXHAUSTIVE="5000" LEAFSIZEMETHOD="DEFAULT" LEAFFRACTION="0.00001" LEAFSIZE="1" MAXDEPTH="50" MAXTREES="100" MINCATSIZE="5" SEED="12345" SPLITSIZE="." NUMOBSMETHOD="PERCENTAGE" TRAINFRACTION="0.6" TRAINN="." VARS_TO_TRY="." MISSING="USEINSEARCH" MINUSEINSEARCH="1" VARSELECT="Y" VIMETHOD="LOSSREDUCTION" RBATOPNUM="25" RBACUT="0.01" ForceRun="N" RunAction="Train" Component="HPDMForest">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPDMImpute" ID="HPImp" X="486" Y="150" DESCRIPTION="HP Impute" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="TRANSFORM" TOOLPREFIX="HPImp">
<PROPERTIES Location="CATALOG" ToolType="TRANSFORM" Catalog="SASHELP.HPDM.IMPUTE.SOURCE" MethodInterval="MEAN" MethodClass="COUNT" IntervalStat="DATA" Cutoff="5" MethodTargetInterval="NONE" MethodTargetClass="NONE" Indicator="NONE" IndicatorSource="IMPUTED" IndicatorRole="REJECTED" ValidateTestMissing="N" DistributionMissing="N" ImputeNoMissing="N" HideVariable="Y" RandomSeed="12345" MaxPctMissing="50.0" DefaultNum="." RejectMissingVar="Y" ForceRun="N" RunAction="Train" Component="HPDMImpute" Normalize="Y" DefaultChar="">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes>
<DELTA Variable="DEBTINC" AttributeName="REPORT" AttributeValue="Y"/>
</EmVariableAttributes>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPDMNeural" ID="HPNNA" X="793" Y="95" DESCRIPTION="HP Neural" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPNNA">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPDMNeural.SOURCE" ToolType="MODEL" InputStd="RANGE" HIDDEN="10" HIDDENLAYERS="3" ARCHITECTURE="LAYER1" DIRECTCONN="N" TargetStd="RANGE" TargetActivation="IDENTITY" TargetError="NORMAL" OPTMETHOD="LBFGS" NUMTRIES="2" MAXITER="300" USEVALID="N" USEINVERSE="N" MISSASLVL="N" MAXLINKS="1000" ForceRun="N" RunAction="Train" Component="HPDMNeural" TableEditor="">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<HIDDENOPTIONS Type="DATA">
<Data/>
<Metadata/>
</HIDDENOPTIONS>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPDMNeural" ID="HPNNA2" X="793" Y="150" DESCRIPTION="HP Neural (2)" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPNNA">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPDMNeural.SOURCE" ToolType="MODEL" InputStd="RANGE" HIDDEN="15" HIDDENLAYERS="3" ARCHITECTURE="LAYER1" DIRECTCONN="N" TargetStd="RANGE" TargetActivation="IDENTITY" TargetError="NORMAL" OPTMETHOD="LBFGS" NUMTRIES="2" MAXITER="300" USEVALID="N" USEINVERSE="N" MISSASLVL="N" MAXLINKS="1000" ForceRun="N" RunAction="Train" Component="HPDMNeural" TableEditor="">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<HIDDENOPTIONS Type="DATA">
<Data/>
<Metadata/>
</HIDDENOPTIONS>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPDMNeural" ID="HPNNA3" X="789" Y="220" DESCRIPTION="HP Neural (3)" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPNNA">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPDMNeural.SOURCE" ToolType="MODEL" InputStd="RANGE" HIDDEN="15" HIDDENLAYERS="3" ARCHITECTURE="LAYER2" DIRECTCONN="N" TargetStd="RANGE" TargetActivation="IDENTITY" TargetError="NORMAL" OPTMETHOD="LBFGS" NUMTRIES="2" MAXITER="300" USEVALID="N" USEINVERSE="N" MISSASLVL="N" MAXLINKS="1000" ForceRun="N" RunAction="Train" Component="HPDMNeural" TableEditor="">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<HIDDENOPTIONS Type="DATA">
<Data/>
<Metadata/>
</HIDDENOPTIONS>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPDMNeural" ID="HPNNA4" X="1730" Y="197" DESCRIPTION="Stacked HPNeural" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPNNA">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPDMNeural.SOURCE" ToolType="MODEL" InputStd="RANGE" HIDDEN="3" HIDDENLAYERS="3" ARCHITECTURE="LAYER1" DIRECTCONN="N" TargetStd="RANGE" TargetActivation="IDENTITY" TargetError="NORMAL" OPTMETHOD="LBFGS" NUMTRIES="2" MAXITER="300" USEVALID="N" USEINVERSE="N" MISSASLVL="N" MAXLINKS="1000" ForceRun="N" RunAction="Train" Component="HPDMNeural" TableEditor="">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<HIDDENOPTIONS Type="DATA">
<Data/>
<Metadata/>
</HIDDENOPTIONS>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPDMReg" ID="HPReg" X="1730" Y="58" DESCRIPTION="Weighted Avg Ensemble" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPReg">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPReg.SOURCE" MainEffect="Y" TwoFactor="N" Polynomial="N" PolynomialDegree="2" SuppressIntercept="Y" MISSASLVL="N" Error="LOGISTIC" LinkFunction="LOGIT" SelectMethod="STEPWISE" SelectCriterion="DEFAULT" StopCriterion="DEFAULT" SLEntry="0.05" SLStay="0.05" MaxEffects="0" MinEffects="0" Hierarchy="NONE" MaxSteps="0" SuppressOutput="N" ABSCONV="." ABSFCONV="." ABSGCONV="." FCONV="." GCONV="." TECH="NRRIDG" MAXITER="." MAXFUNC="." MAXTIME="." MINITER="." NORMALIZE="Y" EXCLUDEDVARIABLE="REJECT" ForceRun="N" RunAction="Train" Component="HPDMReg" NCPU="Actual" NNode="0" NThreads="Default" Host="Local" Timeout="120" LogDetails="N" Term="Y" Interactions="" SelectUseDefault="Y">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPDMReg" ID="HPReg2" X="1729" Y="104" DESCRIPTION="Weighted Avg Ensemble NoSel" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPReg">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPReg.SOURCE" MainEffect="Y" TwoFactor="N" Polynomial="N" PolynomialDegree="2" SuppressIntercept="Y" MISSASLVL="N" Error="LOGISTIC" LinkFunction="LOGIT" SelectMethod="NONE" SelectCriterion="DEFAULT" StopCriterion="DEFAULT" SLEntry="0.05" SLStay="0.05" MaxEffects="0" MinEffects="0" Hierarchy="NONE" MaxSteps="0" SuppressOutput="N" ABSCONV="." ABSFCONV="." ABSGCONV="." FCONV="." GCONV="." TECH="NRRIDG" MAXITER="." MAXFUNC="." MAXTIME="." MINITER="." NORMALIZE="Y" EXCLUDEDVARIABLE="REJECT" ForceRun="N" RunAction="Train" Component="HPDMReg" NCPU="Actual" NNode="0" NThreads="Default" Host="Local" Timeout="120" LogDetails="N" Term="Y" Interactions="" SelectUseDefault="Y">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPDMSVM" ID="HPSVM" X="793" Y="493" DESCRIPTION="HP SVM" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPSVM">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPSVM.SOURCE" maxiter="25" missaslvl="N" tolerance="0.000001" penalty="1" method="IPOINT" interiorpointkernel="LINEAR" interiorpointdegree="2" activesetkernel="POLYNOM" activesetdegree="2" rbfparameter="1" sigmoidparameter1="1" sigmoidparameter2="-1" ForceRun="N" RunAction="Train" Component="HPDMSVM">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes>
<DELTA Variable="DEBTINC" AttributeName="REPORT" AttributeValue="Y"/>
</EmVariableAttributes>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPTree" ID="HPTree" X="793" Y="390" DESCRIPTION="HP Tree ChiSq" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPTree">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPDMTREE.SOURCE" ToolType="MODEL" ALPHA="0.2" CVFOLDS="10" MINDIST="0.01" CONFIDENCE="0.25" VALIDATIONPROB="0.15" PARTITIONSEED="12345" CVSEED="12345" MAXDEPTH="6" INTERVALBINS="100" HLEAFSIZE="5" CRITERIONMETHOD="CHISQUARE" ICRITERIONMETHOD="VARIANCE" UseVarOnce="N" SUBTREEMIN="Y" VARSELECT="Y" VALIDATION="N" BONFERRONI="N" NODEROLE="SEGMENT" PRUNINGMETHOD="ASSESSMENT" SELMETHOD="AUTOMATIC" PASSESSMENT="MISC" IPASSESSMENT="ASE" PTHRESHOLD="1.0" LIFTFRACT="0.5" NPLEAVES="1" INODECOLOR="AVERAGE" NODECOLOR="ProbEvent" LEVTHRESH1="500000" LEVTHRESH2="1000000" MINCATSIZE="5" MAXBRANCH="2" Nsurrs="0" MissingValue="POPULARITY" MAXLEAVES="1024" DEPTHCONTROL="MAXDEPTHCTRL" MValueMetric="ASE" ForceRun="N" RunAction="Train" Component="HPTree" CCPENALTY="0.8">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes>
<DELTA Variable="DEBTINC" AttributeName="REPORT" AttributeValue="Y"/>
</EmVariableAttributes>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="HPTree" ID="HPTree2" X="794" Y="337" DESCRIPTION="HP Tree Entropy" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="HPTree">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.HPDM.HPDMTREE.SOURCE" ToolType="MODEL" ALPHA="0.2" CVFOLDS="10" MINDIST="0.01" CONFIDENCE="0.25" VALIDATIONPROB="0.15" PARTITIONSEED="12345" CVSEED="12345" MAXDEPTH="6" INTERVALBINS="100" HLEAFSIZE="5" CRITERIONMETHOD="ENTROPY" ICRITERIONMETHOD="VARIANCE" UseVarOnce="N" SUBTREEMIN="Y" VARSELECT="Y" VALIDATION="N" BONFERRONI="N" NODEROLE="SEGMENT" PRUNINGMETHOD="ASSESSMENT" SELMETHOD="AUTOMATIC" PASSESSMENT="ENTROPY" IPASSESSMENT="ASE" PTHRESHOLD="1.0" LIFTFRACT="0.5" NPLEAVES="1" INODECOLOR="AVERAGE" NODECOLOR="ProbEvent" LEVTHRESH1="500000" LEVTHRESH2="1000000" MINCATSIZE="5" MAXBRANCH="2" Nsurrs="0" MissingValue="POPULARITY" MAXLEAVES="1024" DEPTHCONTROL="MAXDEPTHCTRL" MValueMetric="ASE" ForceRun="N" RunAction="Train" Component="HPTree" CCPENALTY="0.8">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes>
<DELTA Variable="DEBTINC" AttributeName="REPORT" AttributeValue="Y"/>
</EmVariableAttributes>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMSAMP.IDS.CLASS" COMPONENT="DataSource" ID="Ids" X="30" Y="118" DESCRIPTION="Home Equity" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="SAMPLE" TOOLPREFIX="Ids">
<PROPERTIES DataSource="homeequity" Scope="LOCAL" Role="TRAIN" Library="SAMPSIO" Table="HMEQ" NCols="13" NObs="5960" NBytes="656384" Segment="" DataSourceRole="TRAIN" OutputType="VIEW" ForceRun="N" ComputeStatistics="N" DataSelection="DATASOURCE" NewTable="" MetaAdvisor="BASIC" ApplyIntervalLevelLowerLimit="Y" IntervalLowerLimit="20" ApplyMaxPercentMissing="Y" MaxPercentMissing="50" ApplyMaxClassLevels="Y" MaxClassLevels="20" IdentifyEmptyColumns="Y" VariableValidation="STRICT" NewVariableRole="REJECT" DropMapVariables="Y" DsId="homeequity" DsSampleName="" DsSampleSizeType="" DsSampleSize="" DsCreatedBy="wehass" DsCreateDate="1754561069.2" DsModifiedBy="wehass" DsModifyDate="1754561069.2" DsScope="LOCAL" Sample="D" SampleSizeType="PERCENT" SampleSizePercent="20" SampleSizeObs="10000" DBPassThrough="Y" RunAction="Train" Component="DataSource" Description="">
<VariableProperties/>
<EmVariableAttributes>
<DELTA Variable="BAD" AttributeName="ROLE" AttributeValue="TARGET"/>
<DELTA Variable="BAD" AttributeName="LEVEL" AttributeValue="BINARY"/>
</EmVariableAttributes>
<EmTargetAttributes>
<BAD>
<DecData Table="EMWS2.Ids_BAD_DD">
<Data>
<Obs BAD="1" COUNT="1189" DATAPRIOR="0.1994966443" TRAINPRIOR="0.1994966443" DECPRIOR="." DECISION1="1" DECISION2="0"/>
<Obs BAD="0" COUNT="4771" DATAPRIOR="0.8005033557" TRAINPRIOR="0.8005033557" DECPRIOR="." DECISION1="0" DECISION2="1"/>
</Data>
<Metadata>
<Variable NAME="BAD" LABEL="" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="COUNT" LABEL="Level Counts" LENGTH="8" FORMAT="10." TYPE="N"/>
<Variable NAME="DATAPRIOR" LABEL="Data Proportions" LENGTH="8" FORMAT="" TYPE="N"/>
<Variable NAME="TRAINPRIOR" LABEL="Training Proportions" LENGTH="8" FORMAT="" TYPE="N"/>
<Variable NAME="DECPRIOR" LABEL="Decision Priors" LENGTH="8" FORMAT="" TYPE="N"/>
<Variable NAME="DECISION1" LABEL="1" LENGTH="8" FORMAT="" TYPE="N"/>
<Variable NAME="DECISION2" LABEL="0" LENGTH="8" FORMAT="" TYPE="N"/>
</Metadata>
</DecData>
<DecMeta Table="EMWS2.Ids_BAD_DM">
<Data>
<Obs _TYPE_="MATRIX" VARIABLE="" LABEL="" LEVEL="PROFIT" EVENT="" ORDER="" FORMAT="" TYPE="" COST="" USE="N"/>
<Obs _TYPE_="TARGET" VARIABLE="BAD" LABEL="" LEVEL="BINARY" EVENT="1" ORDER="" FORMAT="" TYPE="N" COST="" USE=""/>
<Obs _TYPE_="DECISION" VARIABLE="DECISION1" LABEL="1" LEVEL="" EVENT="" ORDER="" FORMAT="" TYPE="N" COST="" USE="Y"/>
<Obs _TYPE_="DECISION" VARIABLE="DECISION2" LABEL="0" LEVEL="" EVENT="" ORDER="" FORMAT="" TYPE="N" COST="" USE="Y"/>
<Obs _TYPE_="DATAPRIOR" VARIABLE="DATAPRIOR" LABEL="Data Prior" LEVEL="" EVENT="" ORDER="" FORMAT="" TYPE="N" COST="" USE="N"/>
<Obs _TYPE_="TRAINPRIOR" VARIABLE="TRAINPRIOR" LABEL="Training Prior" LEVEL="" EVENT="" ORDER="" FORMAT="" TYPE="N" COST="" USE="N"/>
<Obs _TYPE_="DECPRIOR" VARIABLE="DECPRIOR" LABEL="Decision Prior" LEVEL="" EVENT="" ORDER="" FORMAT="" TYPE="N" COST="" USE="N"/>
<Obs _TYPE_="PREDICTED" VARIABLE="P_BAD1" LABEL="Predicted: BAD=1" LEVEL="1" EVENT="" ORDER="" FORMAT="" TYPE="N" COST="" USE=""/>
<Obs _TYPE_="RESIDUAL" VARIABLE="R_BAD1" LABEL="Residual: BAD=1" LEVEL="1" EVENT="" ORDER="" FORMAT="" TYPE="N" COST="" USE=""/>
<Obs _TYPE_="PREDICTED" VARIABLE="P_BAD0" LABEL="Predicted: BAD=0" LEVEL="0" EVENT="" ORDER="" FORMAT="" TYPE="N" COST="" USE=""/>
<Obs _TYPE_="RESIDUAL" VARIABLE="R_BAD0" LABEL="Residual: BAD=0" LEVEL="0" EVENT="" ORDER="" FORMAT="" TYPE="N" COST="" USE=""/>
<Obs _TYPE_="FROM" VARIABLE="F_BAD" LABEL="From: BAD" LEVEL="" EVENT="" ORDER="" FORMAT="" TYPE="C" COST="" USE=""/>
<Obs _TYPE_="INTO" VARIABLE="I_BAD" LABEL="Into: BAD" LEVEL="" EVENT="" ORDER="" FORMAT="" TYPE="C" COST="" USE=""/>
</Data>
<Metadata>
<Variable NAME="_TYPE_" LABEL="Type" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="VARIABLE" LABEL="Variable" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="LABEL" LABEL="Label" LENGTH="256" FORMAT="" TYPE="C"/>
<Variable NAME="LEVEL" LABEL="Measurement Level" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="EVENT" LABEL="Target Event" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="ORDER" LABEL="Order" LENGTH="10" FORMAT="" TYPE="C"/>
<Variable NAME="FORMAT" LABEL="Format" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="TYPE" LABEL="Type" LENGTH="1" FORMAT="" TYPE="C"/>
<Variable NAME="COST" LABEL="Cost" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="USE" LABEL="Use" LENGTH="1" FORMAT="" TYPE="C"/>
</Metadata>
</DecMeta>
</BAD>
</EmTargetAttributes>
<EmFileProperties>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMMDFY.EMIMPUTE.CLASS" COMPONENT="Impute" ID="Impt" X="485" Y="94" DESCRIPTION="Impute (3)" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODIFY" TOOLPREFIX="Impt">
<PROPERTIES MethodInterval="MEAN" MethodClass="COUNT" MethodTargetInterval="NONE" MethodTargetClass="NONE" ABWTuning="9" AHUBERTuning="1.5" AWAVETuning="6.2831853072" SpacingProportion="90" DefaultChar="" DefaultNum="." RandomSeed="12345" Normalize="Y" ImputeNoMissing="N" MaxPctMissing="50" ValidateTestMissing="N" DistributionMissing="N" LeafSize="5" Maxbranch="2" Maxdepth="6" MinCatSize="5" Nrules="5" Nsurrs="2" Splitsize="." Indicator="NONE" IndicatorRole="REJECTED" ReplaceVariable="N" HideVariable="Y" IndicatorSource="IMPUTED" ForceRun="N" RunAction="Train" Component="Impute">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMASSMT.ASSESS.CLASS" COMPONENT="ModelCompare" ID="MdlComp" X="1903" Y="367" DESCRIPTION="Model Comparison 2" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="ASSESS" TOOLPREFIX="MdlComp">
<PROPERTIES NumberOfReportedLevels="1E-6" NormalizeReportingVariables="Y" DecileBin="20" LiftEpsilon="1E-6" ProfitEpsilon="1E-6" RoiEpsilon="1E-6" ScoreDistBin="20" RocChart="Y" RocEpsilon="0.01" AssessAllTargetLevels="N" SelectionData="DEFAULT" HPCriteria="DEFAULT" SelectionTable="TEST" SelectionCriteria="_MISC_" SelectionDepth="10" NumberofBins="20" RecomputeAssess="N" TargetName="BAD" ModelId="HPNNA4" ModelDescription="Stacked HPNeural" ModelCriteria="Test: Misclassification Rate" ForceRun="N" RunAction="Train" Component="ModelCompare" StatisticUsed="_TMISC_" TargetLabel="">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMASSMT.ASSESS.CLASS" COMPONENT="ModelCompare" ID="MdlComp2" X="1101" Y="285" DESCRIPTION="Model Comparison" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="ASSESS" TOOLPREFIX="MdlComp">
<PROPERTIES NumberOfReportedLevels="1E-6" NormalizeReportingVariables="Y" DecileBin="20" LiftEpsilon="1E-6" ProfitEpsilon="1E-6" RoiEpsilon="1E-6" ScoreDistBin="20" RocChart="Y" RocEpsilon="0.01" AssessAllTargetLevels="N" SelectionData="DEFAULT" HPCriteria="DEFAULT" SelectionTable="TEST" SelectionCriteria="_MISC_" SelectionDepth="10" NumberofBins="20" RecomputeAssess="N" TargetName="BAD" ModelId="Boost" ModelDescription="Gradient Boosting" ModelCriteria="Test: Misclassification Rate" ForceRun="N" RunAction="Train" Component="ModelCompare" StatisticUsed="_TMISC_" TargetLabel="">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMUTIL.EMMETADATA.CLASS" COMPONENT="Metadata" ID="Meta" X="1416" Y="198" DESCRIPTION="Metadata" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="UTILITY" TOOLPREFIX="Meta">
<PROPERTIES HideRejected="N" AdvancedAdvisor="N" CombineRule="NONE" ComputeStatistics="N" ForceRun="N" RunAction="Train" Component="Metadata">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes>
<DELTA Variable="BAD" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="F_BAD" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="F_BAD" AttributeName="LABEL" AttributeValue=""/>
<DELTA Variable="I_BAD" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="I_BAD" AttributeName="LABEL" AttributeValue=""/>
<DELTA Variable="P_BAD0" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="P_BAD0" AttributeName="LABEL" AttributeValue=""/>
<DELTA Variable="P_BAD1" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="P_BAD1" AttributeName="LABEL" AttributeValue=""/>
<DELTA Variable="R_BAD0" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="R_BAD0" AttributeName="LABEL" AttributeValue=""/>
<DELTA Variable="R_BAD1" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="R_BAD1" AttributeName="LABEL" AttributeValue=""/>
<DELTA Variable="_dataobs_" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="_p_Boost" AttributeName="NEWROLE" AttributeValue="INPUT"/>
<DELTA Variable="_p_Boost" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="_p_HPDMForest" AttributeName="NEWROLE" AttributeValue="INPUT"/>
<DELTA Variable="_p_HPDMForest" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="_p_HPNNA" AttributeName="NEWROLE" AttributeValue="INPUT"/>
<DELTA Variable="_p_HPNNA" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="_p_HPNNA2" AttributeName="NEWROLE" AttributeValue="INPUT"/>
<DELTA Variable="_p_HPNNA2" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="_p_HPNNA3" AttributeName="NEWROLE" AttributeValue="INPUT"/>
<DELTA Variable="_p_HPNNA3" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="_p_HPSVM" AttributeName="NEWROLE" AttributeValue="INPUT"/>
<DELTA Variable="_p_HPSVM" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="_p_HPTree" AttributeName="NEWROLE" AttributeValue="INPUT"/>
<DELTA Variable="_p_HPTree" AttributeName="HIDDEN" AttributeValue="N"/>
<DELTA Variable="_p_HPTree2" AttributeName="NEWROLE" AttributeValue="INPUT"/>
<DELTA Variable="_p_HPTree2" AttributeName="HIDDEN" AttributeValue="N"/>
</EmVariableAttributes>
<EmFileProperties>
<IMPORTSET Type="DATA">
<Data>
<Obs USE="Y" PORT="DATA" NODELABEL="EMCODE" NODEPORT="TRAIN" LIBNAME="" DATASET="EMCODE_TRAIN" ROLE="TRAIN" MODTIME="1778690417.7" COLUMNMETA="EMCODE_CMeta_TRAIN" COLUMNMETAMODTIME="1778690420.5" EMINFO="EMCODE_EMINFO" EMINFOMODTIME="1778690420.6" NOBS="2382" DATASOURCE="homeequity"/>
<Obs USE="Y" PORT="VALIDATE" NODELABEL="EMCODE" NODEPORT="VALIDATE" LIBNAME="" DATASET="EMCODE_VALIDATE" ROLE="VALIDATE" MODTIME="1778690418.8" COLUMNMETA="EMCODE_CMeta_TRAIN" COLUMNMETAMODTIME="1778690420.5" EMINFO="" EMINFOMODTIME="." NOBS="1788" DATASOURCE="homeequity"/>
<Obs USE="Y" PORT="TEST" NODELABEL="EMCODE" NODEPORT="TEST" LIBNAME="" DATASET="EMCODE_TEST" ROLE="TEST" MODTIME="1778690419.8" COLUMNMETA="EMCODE_CMeta_TRAIN" COLUMNMETAMODTIME="1778690420.5" EMINFO="" EMINFOMODTIME="." NOBS="1790" DATASOURCE="homeequity"/>
<Obs USE="Y" PORT="SCORE" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="TRANSACTION" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="DOCUMENT" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="CLUSMEAN" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="CLUSSTAT" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="ESTIMATE" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="RANK" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="REPORTFIT" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="RULES" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="SCOREDIST" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="TERMS" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="TREE" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
<Obs USE="Y" PORT="VARMAP" NODELABEL="" NODEPORT="" LIBNAME="" DATASET="" ROLE="" MODTIME="." COLUMNMETA="" COLUMNMETAMODTIME="." EMINFO="" EMINFOMODTIME="." NOBS="." DATASOURCE=""/>
</Data>
<Metadata>
<Variable NAME="USE" LABEL="" LENGTH="1" FORMAT="" TYPE="C"/>
<Variable NAME="PORT" LABEL="" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="NODELABEL" LABEL="" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="NODEPORT" LABEL="" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="LIBNAME" LABEL="" LENGTH="8" FORMAT="" TYPE="C"/>
<Variable NAME="DATASET" LABEL="" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="ROLE" LABEL="" LENGTH="20" FORMAT="" TYPE="C"/>
<Variable NAME="MODTIME" LABEL="" LENGTH="8" FORMAT="DATETIME20." TYPE="N"/>
<Variable NAME="COLUMNMETA" LABEL="" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="COLUMNMETAMODTIME" LABEL="" LENGTH="8" FORMAT="DATETIME20." TYPE="N"/>
<Variable NAME="EMINFO" LABEL="" LENGTH="32" FORMAT="" TYPE="C"/>
<Variable NAME="EMINFOMODTIME" LABEL="" LENGTH="8" FORMAT="DATETIME20." TYPE="N"/>
<Variable NAME="NOBS" LABEL="" LENGTH="8" FORMAT="" TYPE="N"/>
<Variable NAME="DATASOURCE" LABEL="" LENGTH="29" FORMAT="" TYPE="C"/>
</Metadata>
</IMPORTSET>
<VARIABLEPROPERTIES_DATA Type="EXTERNAL" Extension="sas">
<Data><![CDATA[
*------------------------------------------------------------*;
* Variable Attributes for DATA;
*------------------------------------------------------------*;
if upcase(NAME) = &quot;_P_BOOST&quot; then NEWROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPDMFOREST&quot; then NEWROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPNNA&quot; then NEWROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPNNA2&quot; then NEWROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPNNA3&quot; then NEWROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPSVM&quot; then NEWROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPTREE&quot; then NEWROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPTREE2&quot; then NEWROLE=&quot;INPUT&quot;;
]]>
</Data>
</VARIABLEPROPERTIES_DATA>
<METACODE_DATA Type="EXTERNAL" Extension="sas">
<Data><![CDATA[
*------------------------------------------------------------*;
* Metadata Changes;
*------------------------------------------------------------*;
if upcase(NAME) = &quot;_P_BOOST&quot; then ROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPDMFOREST&quot; then ROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPNNA&quot; then ROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPNNA2&quot; then ROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPNNA3&quot; then ROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPSVM&quot; then ROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPTREE&quot; then ROLE=&quot;INPUT&quot;;
if upcase(NAME) = &quot;_P_HPTREE2&quot; then ROLE=&quot;INPUT&quot;;
]]>
</Data>
</METACODE_DATA>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMSAMP.EMDPART.CLASS" COMPONENT="Partition" ID="Part" X="189" Y="118" DESCRIPTION="Partition" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="SAMPLE" TOOLPREFIX="Part">
<PROPERTIES Method="DEFAULT" TrainPct="40" ValidatePct="30" TestPct="30" RandomSeed="12345" OutputType="DATA" IntervalDistribution="N" ClassDistribution="N" ForceRun="N" RunAction="Train" Component="Partition">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMMODL.REGRESSION.CLASS" COMPONENT="Regression" ID="Reg" X="630" Y="219" DESCRIPTION="Regression (5)" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="Reg">
<PROPERTIES MainEffect="Y" TwoFactor="Y" Polynomial="Y" PolynomialDegree="2" Terms="N" Error="LOGISTIC" LinkFunction="LOGIT" SuppressIntercept="N" InputCoding="DEVIATION" MinResourceUse="N" ModelSelection="NONE" SelectionCriterion="DEFAULT" SelectionDefault="Y" Sequential="N" SlEntry="0.05" SlStay="0.05" Start="0" Stop="0" Force="0" Hierarchy="CLASS" Rule="NONE" MaxStep="." StepOutput="N" OptimizationTechnique="DEFAULT" ModelDefaults="Y" MaxIterations="." MaxFunctionCalls="." MaxCPUTime="1 HOUR" ConvDefaults="Y" AbsConvValue="-1.34078E154" AbsFValue="0" AbsFTime="1" AbsGValue="0.00001" AbsGTime="1" AbsXValue="1E-8" AbsXTime="1" FConvValue="0" FConvTimes="1" GConvValue="1E-6" GConvTimes="1" ClParm="N" Covout="N" CovB="N" CorB="N" Simple="N" SuppressOutput="N" Details="N" PrintDesignMatrix="N" SASSPDS="N" Performance="N" ExcludedVariable="REJECT" ForceRun="N" RunAction="Train" Component="Regression" Interactions="">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMMDFY.EMTRANS.CLASS" COMPONENT="Transform" ID="Trans" X="340" Y="94" DESCRIPTION="Best" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODIFY" TOOLPREFIX="Trans">
<PROPERTIES DefaultMethod="BEST" DefaultTargetMethod="NONE" DefaultClassMethod="GROUP" DefaultClassTargetMethod="NONE" Offset="1" MinOffset="Y" HideVariable="Y" RejectVariable="Y" GroupCutoff="0.03" GroupMissing="N" EmRandomSeed="12345" EmSampleSize="DEFAULT" EmSampleMethod="FIRSTN" MissingValue="USEINSEARCH" SummaryVariables="TRANSFORMED" SummaryStatistics="Y" UseMetaTransform="Y" MissingAsLevel="Y" NumberofBins="8" MaxOptimalBins="8" ForceRun="N" RunAction="Train" Component="Transform">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<INTERACTION Type="DATA">
<Data/>
<Metadata/>
</INTERACTION>
<FORMULA Type="DATA">
<Data/>
<Metadata/>
</FORMULA>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="DecisionTree" ID="Tree" X="1730" Y="151" DESCRIPTION="Stacked Decision Tree" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="MODEL" TOOLPREFIX="Tree">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.EMMODL.TREE.SOURCE" ToolType="MODEL" TrainMode="BATCH" ImportModel="N" Freeze="N" UseMultipleTarget="N" Precision="4" IntervalCriterion="PROBF" NominalCriterion="PROBCHISQ" OrdinalCriterion="ENTROPY" SigLevel="0.2" Splitsize="." LeafSize="5" MinCatSize="5" Maxbranch="2" Maxdepth="6" Nrules="5" Nsurrs="0" MissingValue="USEINSEARCH" UseVarOnce="N" SplitPrecision="4" Subtree="ASSESSMENT" NSubtree="1" AssessMeasure="PROFIT/LOSS" AssessPercentage="0.25" NodeSample="20000" Exhaustive="5000" Kass="Y" KassApply="BEFORE" Depth="Y" Inputs="N" NumInputs="1" VarSelection="Y" Leafid="Y" NodeRole="SEGMENT" Performance="DISK" CV="N" CVNIter="10" CVRepeat="1" CVSeed="12345" ObsImportance="N" NumSingleImp="5" UseDecision="N" UsePriors="N" ClassColorBy="PERCENTCORRECT" IntColorBy="AVG" ShowNodeId="Y" ShowValid="Y" Pred="N" Target="ALL" Count="Y" ProfitLoss="NONE" PercentCorrect="N" AVG="Y" RASE="N" CreateSample="DEFAULT" SampleMethod="RANDOM" SampleSize="10000" SampleSeed="12345" ForceRun="N" RunAction="Train" Component="DecisionTree" Criterion="DEFAULT" Dummy="N" Predict="Y" ImportedTreeData="">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
<NODE CLASS="SASHELP.EMCORE.EXTENSION.CLASS" COMPONENT="VariableClustering" ID="VarClus" X="1579" Y="256" DESCRIPTION="Variable Clustering" DIAGRAMID="_ROOT_" PARENTID="" TOOLTYPE="EXPLORE" TOOLPREFIX="VarClus">
<PROPERTIES Location="CATALOG" Catalog="SASHELP.EMEXPL.VARIABLECLUSTERING.SOURCE" HideVariable="Y" MaxClus="." ClusSource="CORR" ClusHierachy="Y" IncludeClassVar="N" TwoStageClus="AUTO" SuppressSampWarn="N" ExportedComp="BESTVARWITHCOMP" MaxEigen="." Proportion="0" PrintOption="SHORT" ForceRun="N" RunAction="Train" Component="VariableClustering" DataNeeded="Y">
<VariableProperties/>
<EmTargetAttributes/>
<EmVariableAttributes/>
<EmFileProperties>
<USERTRAINCODE Type="EXTERNAL" Extension="sas">
<Data/>
</USERTRAINCODE>
<EMNOTES Type="EXTERNAL" Extension="txt">
<Data/>
</EMNOTES>
</EmFileProperties>
</PROPERTIES>
</NODE>
</NODES>
<CONNECTIONS>
<CONNECTION FROM="MdlComp2" TO="EMCODE"/>
<CONNECTION FROM="EMCODE" TO="CNTRL"/>
<CONNECTION FROM="EMCODE" TO="EMCODE2"/>
<CONNECTION FROM="EMCODE" TO="EMCODE3"/>
<CONNECTION FROM="EMCODE3" TO="MdlComp"/>
<CONNECTION FROM="EMCODE2" TO="MdlComp"/>
<CONNECTION FROM="CNTRL2" TO="HPDMForest2"/>
<CONNECTION FROM="CNTRL2" TO="HPNNA4"/>
<CONNECTION FROM="CNTRL2" TO="Tree"/>
<CONNECTION FROM="CNTRL2" TO="HPReg2"/>
<CONNECTION FROM="CNTRL2" TO="HPReg"/>
<CONNECTION FROM="Impt" TO="HPNNA"/>
<CONNECTION FROM="HPNNA" TO="CNTRL6"/>
<CONNECTION FROM="CNTRL6" TO="CNTRL"/>
<CONNECTION FROM="CNTRL6" TO="MdlComp2"/>
<CONNECTION FROM="Part" TO="Trans"/>
<CONNECTION FROM="Part" TO="CNTRL3"/>
<CONNECTION FROM="CNTRL3" TO="HPImp"/>
<CONNECTION FROM="CNTRL3" TO="CNTRL5"/>
<CONNECTION FROM="Trans" TO="Impt"/>
<CONNECTION FROM="CNTRL5" TO="CNTRL4"/>
<CONNECTION FROM="HPImp" TO="HPNNA2"/>
<CONNECTION FROM="HPImp" TO="Reg"/>
<CONNECTION FROM="Reg" TO="HPNNA3"/>
<CONNECTION FROM="HPNNA2" TO="CNTRL6"/>
<CONNECTION FROM="CNTRL4" TO="Boost"/>
<CONNECTION FROM="CNTRL4" TO="HPTree2"/>
<CONNECTION FROM="CNTRL4" TO="HPTree"/>
<CONNECTION FROM="CNTRL4" TO="HPDMForest"/>
<CONNECTION FROM="CNTRL4" TO="HPSVM"/>
<CONNECTION FROM="HPSVM" TO="CNTRL6"/>
<CONNECTION FROM="HPDMForest" TO="CNTRL6"/>
<CONNECTION FROM="HPTree" TO="CNTRL6"/>
<CONNECTION FROM="HPTree2" TO="CNTRL6"/>
<CONNECTION FROM="Boost" TO="CNTRL6"/>
<CONNECTION FROM="HPNNA3" TO="CNTRL6"/>
<CONNECTION FROM="Ids" TO="Part"/>
<CONNECTION FROM="CNTRL" TO="MdlComp"/>
<CONNECTION FROM="VarClus" TO="MdlComp"/>
<CONNECTION FROM="HPReg" TO="MdlComp"/>
<CONNECTION FROM="HPReg2" TO="MdlComp"/>
<CONNECTION FROM="Tree" TO="MdlComp"/>
<CONNECTION FROM="HPNNA4" TO="MdlComp"/>
<CONNECTION FROM="HPDMForest2" TO="MdlComp"/>
<CONNECTION FROM="EMCODE" TO="Meta"/>
<CONNECTION FROM="Meta" TO="CNTRL2"/>
<CONNECTION FROM="Meta" TO="VarClus"/>
<CONNECTION FROM="MdlComp" TO="EMCODE4"/>
</CONNECTIONS>
<NOTES>
<DATA><![CDATA[


]]>
</DATA>
</NOTES>
</Workspace>
</_ROOT_>
